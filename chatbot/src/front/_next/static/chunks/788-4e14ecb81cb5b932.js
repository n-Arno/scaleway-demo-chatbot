"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[788],{703:function(e,t,n){n.d(t,{default:function(){return o.a}});var r=n(7447),o=n.n(r)},1749:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"Image",{enumerable:!0,get:function(){return v}});let r=n(6921),o=n(1884),a=n(7437),i=o._(n(2265)),l=r._(n(4887)),s=r._(n(2251)),u=n(8630),c=n(6906),d=n(337);n(6184);let f=n(6993),p=r._(n(536)),g={deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!0};function m(e,t,n,r,o,a){let i=null==e?void 0:e.src;e&&e["data-loaded-src"]!==i&&(e["data-loaded-src"]=i,("decode"in e?e.decode():Promise.resolve()).catch(()=>{}).then(()=>{if(e.parentElement&&e.isConnected){if("empty"!==t&&o(!0),null==n?void 0:n.current){let t=new Event("load");Object.defineProperty(t,"target",{writable:!1,value:e});let r=!1,o=!1;n.current({...t,nativeEvent:t,currentTarget:e,target:e,isDefaultPrevented:()=>r,isPropagationStopped:()=>o,persist:()=>{},preventDefault:()=>{r=!0,t.preventDefault()},stopPropagation:()=>{o=!0,t.stopPropagation()}})}(null==r?void 0:r.current)&&r.current(e)}}))}function h(e){let[t,n]=i.version.split(".",2),r=parseInt(t,10),o=parseInt(n,10);return r>18||18===r&&o>=3?{fetchPriority:e}:{fetchpriority:e}}"undefined"==typeof window&&(globalThis.__NEXT_IMAGE_IMPORTED=!0);let y=(0,i.forwardRef)((e,t)=>{let{src:n,srcSet:r,sizes:o,height:l,width:s,decoding:u,className:c,style:d,fetchPriority:f,placeholder:p,loading:g,unoptimized:y,fill:_,onLoadRef:v,onLoadingCompleteRef:b,setBlurComplete:w,setShowAltText:E,onLoad:x,onError:S,...C}=e;return(0,a.jsx)("img",{...C,...h(f),loading:g,width:s,height:l,decoding:u,"data-nimg":_?"fill":"1",className:c,style:d,sizes:o,srcSet:r,src:n,ref:(0,i.useCallback)(e=>{t&&("function"==typeof t?t(e):"object"==typeof t&&(t.current=e)),e&&(S&&(e.src=e.src),e.complete&&m(e,p,v,b,w,y))},[n,p,v,b,w,S,y,t]),onLoad:e=>{m(e.currentTarget,p,v,b,w,y)},onError:e=>{E(!0),"empty"!==p&&w(!0),S&&S(e)}})});function _(e){let{isAppRouter:t,imgAttributes:n}=e,r={as:"image",imageSrcSet:n.srcSet,imageSizes:n.sizes,crossOrigin:n.crossOrigin,referrerPolicy:n.referrerPolicy,...h(n.fetchPriority)};return t&&l.default.preload?(l.default.preload(n.src,r),null):(0,a.jsx)(s.default,{children:(0,a.jsx)("link",{rel:"preload",href:n.srcSet?void 0:n.src,...r},"__nimg-"+n.src+n.srcSet+n.sizes)})}let v=(0,i.forwardRef)((e,t)=>{let n=(0,i.useContext)(f.RouterContext),r=(0,i.useContext)(d.ImageConfigContext),o=(0,i.useMemo)(()=>{let e=g||r||c.imageConfigDefault,t=[...e.deviceSizes,...e.imageSizes].sort((e,t)=>e-t),n=e.deviceSizes.sort((e,t)=>e-t);return{...e,allSizes:t,deviceSizes:n}},[r]),{onLoad:l,onLoadingComplete:s}=e,m=(0,i.useRef)(l);(0,i.useEffect)(()=>{m.current=l},[l]);let h=(0,i.useRef)(s);(0,i.useEffect)(()=>{h.current=s},[s]);let[v,b]=(0,i.useState)(!1),[w,E]=(0,i.useState)(!1),{props:x,meta:S}=(0,u.getImgProps)(e,{defaultLoader:p.default,imgConf:o,blurComplete:v,showAltText:w});return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(y,{...x,unoptimized:S.unoptimized,placeholder:S.placeholder,fill:S.fill,onLoadRef:m,onLoadingCompleteRef:h,setBlurComplete:b,setShowAltText:E,ref:t}),S.priority?(0,a.jsx)(_,{isAppRouter:!n,imgAttributes:x}):null]})});("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},5827:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"AmpStateContext",{enumerable:!0,get:function(){return r}});let r=n(6921)._(n(2265)).default.createContext({})},3044:function(e,t){function n(e){let{ampFirst:t=!1,hybrid:n=!1,hasQuery:r=!1}=void 0===e?{}:e;return t||n&&r}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"isInAmpMode",{enumerable:!0,get:function(){return n}})},8630:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"getImgProps",{enumerable:!0,get:function(){return l}}),n(6184);let r=n(7160),o=n(6906);function a(e){return void 0!==e.default}function i(e){return void 0===e?e:"number"==typeof e?Number.isFinite(e)?e:NaN:"string"==typeof e&&/^[0-9]+$/.test(e)?parseInt(e,10):NaN}function l(e,t){var n;let l,s,u,{src:c,sizes:d,unoptimized:f=!1,priority:p=!1,loading:g,className:m,quality:h,width:y,height:_,fill:v=!1,style:b,onLoad:w,onLoadingComplete:E,placeholder:x="empty",blurDataURL:S,fetchPriority:C,layout:j,objectFit:O,objectPosition:R,lazyBoundary:k,lazyRoot:P,...T}=e,{imgConf:I,showAltText:A,blurComplete:M,defaultLoader:D}=t,L=I||o.imageConfigDefault;if("allSizes"in L)l=L;else{let e=[...L.deviceSizes,...L.imageSizes].sort((e,t)=>e-t),t=L.deviceSizes.sort((e,t)=>e-t);l={...L,allSizes:e,deviceSizes:t}}let V=T.loader||D;delete T.loader,delete T.srcSet;let N="__next_img_default"in V;if(N){if("custom"===l.loader)throw Error('Image with src "'+c+'" is missing "loader" prop.\nRead more: https://nextjs.org/docs/messages/next-image-missing-loader')}else{let e=V;V=t=>{let{config:n,...r}=t;return e(r)}}if(j){"fill"===j&&(v=!0);let e={intrinsic:{maxWidth:"100%",height:"auto"},responsive:{width:"100%",height:"auto"}}[j];e&&(b={...b,...e});let t={responsive:"100vw",fill:"100vw"}[j];t&&!d&&(d=t)}let z="",F=i(y),U=i(_);if("object"==typeof(n=c)&&(a(n)||void 0!==n.src)){let e=a(c)?c.default:c;if(!e.src)throw Error("An object should only be passed to the image component src parameter if it comes from a static image import. It must include src. Received "+JSON.stringify(e));if(!e.height||!e.width)throw Error("An object should only be passed to the image component src parameter if it comes from a static image import. It must include height and width. Received "+JSON.stringify(e));if(s=e.blurWidth,u=e.blurHeight,S=S||e.blurDataURL,z=e.src,!v){if(F||U){if(F&&!U){let t=F/e.width;U=Math.round(e.height*t)}else if(!F&&U){let t=U/e.height;F=Math.round(e.width*t)}}else F=e.width,U=e.height}}let W=!p&&("lazy"===g||void 0===g);(!(c="string"==typeof c?c:z)||c.startsWith("data:")||c.startsWith("blob:"))&&(f=!0,W=!1),l.unoptimized&&(f=!0),N&&c.endsWith(".svg")&&!l.dangerouslyAllowSVG&&(f=!0),p&&(C="high");let B=i(h),J=Object.assign(v?{position:"absolute",height:"100%",width:"100%",left:0,top:0,right:0,bottom:0,objectFit:O,objectPosition:R}:{},A?{}:{color:"transparent"},b),G=M||"empty"===x?null:"blur"===x?'url("data:image/svg+xml;charset=utf-8,'+(0,r.getImageBlurSvg)({widthInt:F,heightInt:U,blurWidth:s,blurHeight:u,blurDataURL:S||"",objectFit:J.objectFit})+'")':'url("'+x+'")',q=G?{backgroundSize:J.objectFit||"cover",backgroundPosition:J.objectPosition||"50% 50%",backgroundRepeat:"no-repeat",backgroundImage:G}:{},H=function(e){let{config:t,src:n,unoptimized:r,width:o,quality:a,sizes:i,loader:l}=e;if(r)return{src:n,srcSet:void 0,sizes:void 0};let{widths:s,kind:u}=function(e,t,n){let{deviceSizes:r,allSizes:o}=e;if(n){let e=/(^|\s)(1?\d?\d)vw/g,t=[];for(let r;r=e.exec(n);r)t.push(parseInt(r[2]));if(t.length){let e=.01*Math.min(...t);return{widths:o.filter(t=>t>=r[0]*e),kind:"w"}}return{widths:o,kind:"w"}}return"number"!=typeof t?{widths:r,kind:"w"}:{widths:[...new Set([t,2*t].map(e=>o.find(t=>t>=e)||o[o.length-1]))],kind:"x"}}(t,o,i),c=s.length-1;return{sizes:i||"w"!==u?i:"100vw",srcSet:s.map((e,r)=>l({config:t,src:n,quality:a,width:e})+" "+("w"===u?e:r+1)+u).join(", "),src:l({config:t,src:n,quality:a,width:s[c]})}}({config:l,src:c,unoptimized:f,width:F,quality:B,sizes:d,loader:V});return{props:{...T,loading:W?"lazy":g,fetchPriority:C,width:F,height:U,decoding:"async",className:m,style:{...J,...q},sizes:H.sizes,srcSet:H.srcSet,src:H.src},meta:{unoptimized:f,priority:p,placeholder:x,fill:v}}}},2251:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}(t,{defaultHead:function(){return d},default:function(){return m}});let r=n(6921),o=n(1884),a=n(7437),i=o._(n(2265)),l=r._(n(7392)),s=n(5827),u=n(7484),c=n(3044);function d(e){void 0===e&&(e=!1);let t=[(0,a.jsx)("meta",{charSet:"utf-8"})];return e||t.push((0,a.jsx)("meta",{name:"viewport",content:"width=device-width"})),t}function f(e,t){return"string"==typeof t||"number"==typeof t?e:t.type===i.default.Fragment?e.concat(i.default.Children.toArray(t.props.children).reduce((e,t)=>"string"==typeof t||"number"==typeof t?e:e.concat(t),[])):e.concat(t)}n(6184);let p=["name","httpEquiv","charSet","itemProp"];function g(e,t){let{inAmpMode:n}=t;return e.reduce(f,[]).reverse().concat(d(n).reverse()).filter(function(){let e=new Set,t=new Set,n=new Set,r={};return o=>{let a=!0,i=!1;if(o.key&&"number"!=typeof o.key&&o.key.indexOf("$")>0){i=!0;let t=o.key.slice(o.key.indexOf("$")+1);e.has(t)?a=!1:e.add(t)}switch(o.type){case"title":case"base":t.has(o.type)?a=!1:t.add(o.type);break;case"meta":for(let e=0,t=p.length;e<t;e++){let t=p[e];if(o.props.hasOwnProperty(t)){if("charSet"===t)n.has(t)?a=!1:n.add(t);else{let e=o.props[t],n=r[t]||new Set;("name"!==t||!i)&&n.has(e)?a=!1:(n.add(e),r[t]=n)}}}}return a}}()).reverse().map((e,t)=>{let r=e.key||t;if(!n&&"link"===e.type&&e.props.href&&["https://fonts.googleapis.com/css","https://use.typekit.net/"].some(t=>e.props.href.startsWith(t))){let t={...e.props||{}};return t["data-href"]=t.href,t.href=void 0,t["data-optimized-fonts"]=!0,i.default.cloneElement(e,t)}return i.default.cloneElement(e,{key:r})})}let m=function(e){let{children:t}=e,n=(0,i.useContext)(s.AmpStateContext),r=(0,i.useContext)(u.HeadManagerContext);return(0,a.jsx)(l.default,{reduceComponentsToState:g,headManager:r,inAmpMode:(0,c.isInAmpMode)(n),children:t})};("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},7160:function(e,t){function n(e){let{widthInt:t,heightInt:n,blurWidth:r,blurHeight:o,blurDataURL:a,objectFit:i}=e,l=r?40*r:t,s=o?40*o:n,u=l&&s?"viewBox='0 0 "+l+" "+s+"'":"";return"%3Csvg xmlns='http://www.w3.org/2000/svg' "+u+"%3E%3Cfilter id='b' color-interpolation-filters='sRGB'%3E%3CfeGaussianBlur stdDeviation='20'/%3E%3CfeColorMatrix values='1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 100 -1' result='s'/%3E%3CfeFlood x='0' y='0' width='100%25' height='100%25'/%3E%3CfeComposite operator='out' in='s'/%3E%3CfeComposite in2='SourceGraphic'/%3E%3CfeGaussianBlur stdDeviation='20'/%3E%3C/filter%3E%3Cimage width='100%25' height='100%25' x='0' y='0' preserveAspectRatio='"+(u?"none":"contain"===i?"xMidYMid":"cover"===i?"xMidYMid slice":"none")+"' style='filter: url(%23b);' href='"+a+"'/%3E%3C/svg%3E"}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"getImageBlurSvg",{enumerable:!0,get:function(){return n}})},337:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"ImageConfigContext",{enumerable:!0,get:function(){return a}});let r=n(6921)._(n(2265)),o=n(6906),a=r.default.createContext(o.imageConfigDefault)},6906:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}(t,{VALID_LOADERS:function(){return n},imageConfigDefault:function(){return r}});let n=["default","imgix","cloudinary","akamai","custom"],r={deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",loaderFile:"",domains:[],disableStaticImages:!1,minimumCacheTTL:60,formats:["image/webp"],dangerouslyAllowSVG:!1,contentSecurityPolicy:"script-src 'none'; frame-src 'none'; sandbox;",contentDispositionType:"inline",remotePatterns:[],unoptimized:!1}},7447:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}(t,{getImageProps:function(){return l},default:function(){return s}});let r=n(6921),o=n(8630),a=n(1749),i=r._(n(536)),l=e=>{let{props:t}=(0,o.getImgProps)(e,{defaultLoader:i.default,imgConf:{deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!0}});for(let[e,n]of Object.entries(t))void 0===n&&delete t[e];return{props:t}},s=a.Image},536:function(e,t){function n(e){let{config:t,src:n,width:r,quality:o}=e;return t.path+"?url="+encodeURIComponent(n)+"&w="+r+"&q="+(o||75)}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r}}),n.__next_img_default=!0;let r=n},6993:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"RouterContext",{enumerable:!0,get:function(){return r}});let r=n(6921)._(n(2265)).default.createContext(null)},7392:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return l}});let r=n(2265),o="undefined"==typeof window,a=o?()=>{}:r.useLayoutEffect,i=o?()=>{}:r.useEffect;function l(e){let{headManager:t,reduceComponentsToState:n}=e;function l(){if(t&&t.mountedInstances){let o=r.Children.toArray(Array.from(t.mountedInstances).filter(Boolean));t.updateHead(n(o,e))}}if(o){var s;null==t||null==(s=t.mountedInstances)||s.add(e.children),l()}return a(()=>{var n;return null==t||null==(n=t.mountedInstances)||n.add(e.children),()=>{var n;null==t||null==(n=t.mountedInstances)||n.delete(e.children)}}),a(()=>(t&&(t._pendingUpdate=l),()=>{t&&(t._pendingUpdate=l)})),i(()=>(t&&t._pendingUpdate&&(t._pendingUpdate(),t._pendingUpdate=null),()=>{t&&t._pendingUpdate&&(t._pendingUpdate(),t._pendingUpdate=null)})),null}},699:function(e,t,n){/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r=n(2265),o="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},a=r.useState,i=r.useEffect,l=r.useLayoutEffect,s=r.useDebugValue;function u(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!o(e,n)}catch(e){return!0}}var c="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),r=a({inst:{value:n,getSnapshot:t}}),o=r[0].inst,c=r[1];return l(function(){o.value=n,o.getSnapshot=t,u(o)&&c({inst:o})},[e,n,t]),i(function(){return u(o)&&c({inst:o}),e(function(){u(o)&&c({inst:o})})},[e]),s(n),n};t.useSyncExternalStore=void 0!==r.useSyncExternalStore?r.useSyncExternalStore:c},2362:function(e,t,n){e.exports=n(699)},5237:function(e,t,n){n.d(t,{RJ:function(){return eb}});var r,o=n(2265),a=n(2362);let i=()=>{},l=i(),s=Object,u=e=>e===l,c=e=>"function"==typeof e,d=(e,t)=>({...e,...t}),f=e=>c(e.then),p=new WeakMap,g=0,m=e=>{let t,n;let r=typeof e,o=e&&e.constructor,a=o==Date;if(s(e)!==e||a||o==RegExp)t=a?e.toJSON():"symbol"==r?e.toString():"string"==r?JSON.stringify(e):""+e;else{if(t=p.get(e))return t;if(t=++g+"~",p.set(e,t),o==Array){for(n=0,t="@";n<e.length;n++)t+=m(e[n])+",";p.set(e,t)}if(o==s){t="#";let r=s.keys(e).sort();for(;!u(n=r.pop());)u(e[n])||(t+=n+":"+m(e[n])+",");p.set(e,t)}}return t},h=new WeakMap,y={},_={},v="undefined",b=typeof window!=v,w=typeof document!=v,E=()=>b&&typeof window.requestAnimationFrame!=v,x=(e,t)=>{let n=h.get(e);return[()=>!u(t)&&e.get(t)||y,r=>{if(!u(t)){let o=e.get(t);t in _||(_[t]=o),n[5](t,d(o,r),o||y)}},n[6],()=>!u(t)&&t in _?_[t]:!u(t)&&e.get(t)||y]},S=!0,[C,j]=b&&window.addEventListener?[window.addEventListener.bind(window),window.removeEventListener.bind(window)]:[i,i],O={initFocus:e=>(w&&document.addEventListener("visibilitychange",e),C("focus",e),()=>{w&&document.removeEventListener("visibilitychange",e),j("focus",e)}),initReconnect:e=>{let t=()=>{S=!0,e()},n=()=>{S=!1};return C("online",t),C("offline",n),()=>{j("online",t),j("offline",n)}}},R=!o.useId,k=!b||"Deno"in window,P=e=>E()?window.requestAnimationFrame(e):setTimeout(e,1),T=k?o.useEffect:o.useLayoutEffect,I="undefined"!=typeof navigator&&navigator.connection,A=!k&&I&&(["slow-2g","2g"].includes(I.effectiveType)||I.saveData),M=e=>{if(c(e))try{e=e()}catch(t){e=""}let t=e;return[e="string"==typeof e?e:(Array.isArray(e)?e.length:e)?m(e):"",t]},D=0,L=()=>++D;var V={ERROR_REVALIDATE_EVENT:3,FOCUS_EVENT:0,MUTATE_EVENT:2,RECONNECT_EVENT:1};async function N(...e){let[t,n,r,o]=e,a=d({populateCache:!0,throwOnError:!0},"boolean"==typeof o?{revalidate:o}:o||{}),i=a.populateCache,s=a.rollbackOnError,p=a.optimisticData,g=!1!==a.revalidate,m=e=>"function"==typeof s?s(e):!1!==s,y=a.throwOnError;if(c(n)){let e=[];for(let r of t.keys())!/^\$(inf|sub)\$/.test(r)&&n(t.get(r)._k)&&e.push(r);return Promise.all(e.map(_))}return _(n);async function _(n){let o;let[a]=M(n);if(!a)return;let[s,d]=x(t,a),[_,v,b,w]=h.get(t),E=_[a],S=()=>g&&(delete b[a],delete w[a],E&&E[0])?E[0](2).then(()=>s().data):s().data;if(e.length<3)return S();let C=r,j=L();v[a]=[j,0];let O=!u(p),R=s(),k=R.data,P=R._c,T=u(P)?k:P;if(O&&d({data:p=c(p)?p(T,k):p,_c:T}),c(C))try{C=C(T)}catch(e){o=e}if(C&&f(C)){if(C=await C.catch(e=>{o=e}),j!==v[a][0]){if(o)throw o;return C}o&&O&&m(o)&&(i=!0,d({data:C=T,_c:l}))}i&&!o&&(c(i)&&(C=i(C,T)),d({data:C,error:l,_c:l})),v[a][1]=L();let I=await S();if(d({_c:l}),o){if(y)throw o;return}return i?I:C}}let z=(e,t)=>{for(let n in e)e[n][0]&&e[n][0](t)},F=(e,t)=>{if(!h.has(e)){let n=d(O,t),r={},o=N.bind(l,e),a=i,s={},u=(e,t)=>{let n=s[e]||[];return s[e]=n,n.push(t),()=>n.splice(n.indexOf(t),1)},c=(t,n,r)=>{e.set(t,n);let o=s[t];if(o)for(let e of o)e(n,r)},f=()=>{if(!h.has(e)&&(h.set(e,[r,{},{},{},o,c,u]),!k)){let t=n.initFocus(setTimeout.bind(l,z.bind(l,r,0))),o=n.initReconnect(setTimeout.bind(l,z.bind(l,r,1)));a=()=>{t&&t(),o&&o(),h.delete(e)}}};return f(),[e,o,f,a]}return[e,h.get(e)[4]]},[U,W]=F(new Map),B=d({onLoadingSlow:i,onSuccess:i,onError:i,onErrorRetry:(e,t,n,r,o)=>{let a=n.errorRetryCount,i=o.retryCount,l=~~((Math.random()+.5)*(1<<(i<8?i:8)))*n.errorRetryInterval;(u(a)||!(i>a))&&setTimeout(r,l,o)},onDiscarded:i,revalidateOnFocus:!0,revalidateOnReconnect:!0,revalidateIfStale:!0,shouldRetryOnError:!0,errorRetryInterval:A?1e4:5e3,focusThrottleInterval:5e3,dedupingInterval:2e3,loadingTimeout:A?5e3:3e3,compare:(e,t)=>m(e)==m(t),isPaused:()=>!1,cache:U,mutate:W,fallback:{}},{isOnline:()=>S,isVisible:()=>{let e=w&&document.visibilityState;return u(e)||"hidden"!==e}}),J=(e,t)=>{let n=d(e,t);if(t){let{use:r,fallback:o}=e,{use:a,fallback:i}=t;r&&a&&(n.use=r.concat(a)),o&&i&&(n.fallback=d(o,i))}return n},G=(0,o.createContext)({}),q=b&&window.__SWR_DEVTOOLS_USE__,H=q?window.__SWR_DEVTOOLS_USE__:[],$=e=>c(e[1])?[e[0],e[1],e[2]||{}]:[e[0],null,(null===e[1]?e[2]:e[1])||{}],X=()=>d(B,(0,o.useContext)(G)),Y=H.concat(e=>(t,n,r)=>{let o=n&&((...e)=>{let[r]=M(t),[,,,o]=h.get(U),a=o[r];return u(a)?n(...e):(delete o[r],a)});return e(t,o,r)}),K=(e,t,n)=>{let r=t[e]||(t[e]=[]);return r.push(n),()=>{let e=r.indexOf(n);e>=0&&(r[e]=r[r.length-1],r.pop())}};q&&(window.__SWR_DEVTOOLS_REACT__=o);let Q=o.use||(e=>{if("pending"===e.status)throw e;if("fulfilled"===e.status)return e.value;if("rejected"===e.status)throw e.reason;throw e.status="pending",e.then(t=>{e.status="fulfilled",e.value=t},t=>{e.status="rejected",e.reason=t}),e}),Z={dedupe:!0};s.defineProperty(e=>{let{value:t}=e,n=(0,o.useContext)(G),r=c(t),a=(0,o.useMemo)(()=>r?t(n):t,[r,n,t]),i=(0,o.useMemo)(()=>r?a:J(n,a),[r,n,a]),s=a&&a.provider,u=(0,o.useRef)(l);s&&!u.current&&(u.current=F(s(i.cache||U),a));let f=u.current;return f&&(i.cache=f[0],i.mutate=f[1]),T(()=>{if(f)return f[2]&&f[2](),f[3]},[]),(0,o.createElement)(G.Provider,d(e,{value:i}))},"defaultValue",{value:B});let ee=(r=(e,t,n)=>{let{cache:r,compare:i,suspense:s,fallbackData:f,revalidateOnMount:p,revalidateIfStale:g,refreshInterval:m,refreshWhenHidden:y,refreshWhenOffline:_,keepPreviousData:v}=n,[b,w,E,S]=h.get(r),[C,j]=M(e),O=(0,o.useRef)(!1),I=(0,o.useRef)(!1),A=(0,o.useRef)(C),D=(0,o.useRef)(t),z=(0,o.useRef)(n),F=()=>z.current,U=()=>F().isVisible()&&F().isOnline(),[W,B,J,G]=x(r,C),q=(0,o.useRef)({}).current,H=u(f)?n.fallback[C]:f,$=(e,t)=>{for(let n in q)if("data"===n){if(!i(e[n],t[n])&&(!u(e[n])||!i(ei,t[n])))return!1}else if(t[n]!==e[n])return!1;return!0},X=(0,o.useMemo)(()=>{let e=!!C&&!!t&&(u(p)?!F().isPaused()&&!s&&(!!u(g)||g):p),n=t=>{let n=d(t);return(delete n._k,e)?{isValidating:!0,isLoading:!0,...n}:n},r=W(),o=G(),a=n(r),i=r===o?a:n(o),l=a;return[()=>{let e=n(W());return $(e,l)?(l.data=e.data,l.isLoading=e.isLoading,l.isValidating=e.isValidating,l.error=e.error,l):(l=e,e)},()=>i]},[r,C]),Y=(0,a.useSyncExternalStore)((0,o.useCallback)(e=>J(C,(t,n)=>{$(n,t)||e()}),[r,C]),X[0],X[1]),ee=!O.current,et=b[C]&&b[C].length>0,en=Y.data,er=u(en)?H:en,eo=Y.error,ea=(0,o.useRef)(er),ei=v?u(en)?ea.current:en:er,el=(!et||!!u(eo))&&(ee&&!u(p)?p:!F().isPaused()&&(s?!u(er)&&g:u(er)||g)),es=!!(C&&t&&ee&&el),eu=u(Y.isValidating)?es:Y.isValidating,ec=u(Y.isLoading)?es:Y.isLoading,ed=(0,o.useCallback)(async e=>{let t,r;let o=D.current;if(!C||!o||I.current||F().isPaused())return!1;let a=!0,s=e||{},d=!E[C]||!s.dedupe,f=()=>R?!I.current&&C===A.current&&O.current:C===A.current,p={isValidating:!1,isLoading:!1},g=()=>{B(p)},m=()=>{let e=E[C];e&&e[1]===r&&delete E[C]},h={isValidating:!0};u(W().data)&&(h.isLoading=!0);try{if(d&&(B(h),n.loadingTimeout&&u(W().data)&&setTimeout(()=>{a&&f()&&F().onLoadingSlow(C,n)},n.loadingTimeout),E[C]=[o(j),L()]),[t,r]=E[C],t=await t,d&&setTimeout(m,n.dedupingInterval),!E[C]||E[C][1]!==r)return d&&f()&&F().onDiscarded(C),!1;p.error=l;let e=w[C];if(!u(e)&&(r<=e[0]||r<=e[1]||0===e[1]))return g(),d&&f()&&F().onDiscarded(C),!1;let s=W().data;p.data=i(s,t)?s:t,d&&f()&&F().onSuccess(t,C,n)}catch(n){m();let e=F(),{shouldRetryOnError:t}=e;!e.isPaused()&&(p.error=n,d&&f()&&(e.onError(n,C,e),(!0===t||c(t)&&t(n))&&U()&&e.onErrorRetry(n,C,e,e=>{let t=b[C];t&&t[0]&&t[0](V.ERROR_REVALIDATE_EVENT,e)},{retryCount:(s.retryCount||0)+1,dedupe:!0})))}return a=!1,g(),!0},[C,r]),ef=(0,o.useCallback)((...e)=>N(r,A.current,...e),[]);if(T(()=>{D.current=t,z.current=n,u(en)||(ea.current=en)}),T(()=>{if(!C)return;let e=ed.bind(l,Z),t=0,n=K(C,b,(n,r={})=>{if(n==V.FOCUS_EVENT){let n=Date.now();F().revalidateOnFocus&&n>t&&U()&&(t=n+F().focusThrottleInterval,e())}else if(n==V.RECONNECT_EVENT)F().revalidateOnReconnect&&U()&&e();else if(n==V.MUTATE_EVENT)return ed();else if(n==V.ERROR_REVALIDATE_EVENT)return ed(r)});return I.current=!1,A.current=C,O.current=!0,B({_k:j}),el&&(u(er)||k?e():P(e)),()=>{I.current=!0,n()}},[C]),T(()=>{let e;function t(){let t=c(m)?m(W().data):m;t&&-1!==e&&(e=setTimeout(n,t))}function n(){!W().error&&(y||F().isVisible())&&(_||F().isOnline())?ed(Z).then(t):t()}return t(),()=>{e&&(clearTimeout(e),e=-1)}},[m,y,_,C]),(0,o.useDebugValue)(ei),s&&u(er)&&C){if(!R&&k)throw Error("Fallback data is required when using suspense in SSR.");D.current=t,z.current=n,I.current=!1;let e=S[C];if(u(e)||Q(ef(e)),u(eo)){let e=ed(Z);u(ei)||(e.status="fulfilled",e.value=!0),Q(e)}else throw eo}return{mutate:ef,get data(){return q.data=!0,ei},get error(){return q.error=!0,eo},get isValidating(){return q.isValidating=!0,eu},get isLoading(){return q.isLoading=!0,ec}}},function(...e){let t=X(),[n,o,a]=$(e),i=J(t,a),l=r,{use:s}=i,u=(s||[]).concat(Y);for(let e=u.length;e--;)l=u[e](l);return l(n,o||i.fetcher||null,i)});var et={code:"0",name:"text",parse:e=>{if("string"!=typeof e)throw Error('"text" parts expect a string value.');return{type:"text",value:e}}},en={code:"1",name:"function_call",parse:e=>{if(null==e||"object"!=typeof e||!("function_call"in e)||"object"!=typeof e.function_call||null==e.function_call||!("name"in e.function_call)||!("arguments"in e.function_call)||"string"!=typeof e.function_call.name||"string"!=typeof e.function_call.arguments)throw Error('"function_call" parts expect an object with a "function_call" property.');return{type:"function_call",value:e}}},er={code:"2",name:"data",parse:e=>{if(!Array.isArray(e))throw Error('"data" parts expect an array value.');return{type:"data",value:e}}},eo={code:"3",name:"error",parse:e=>{if("string"!=typeof e)throw Error('"error" parts expect a string value.');return{type:"error",value:e}}},ea={code:"4",name:"assistant_message",parse:e=>{if(null==e||"object"!=typeof e||!("id"in e)||!("role"in e)||!("content"in e)||"string"!=typeof e.id||"string"!=typeof e.role||"assistant"!==e.role||!Array.isArray(e.content)||!e.content.every(e=>null!=e&&"object"==typeof e&&"type"in e&&"text"===e.type&&"text"in e&&null!=e.text&&"object"==typeof e.text&&"value"in e.text&&"string"==typeof e.text.value))throw Error('"assistant_message" parts expect an object with an "id", "role", and "content" property.');return{type:"assistant_message",value:e}}},ei={code:"5",name:"assistant_control_data",parse:e=>{if(null==e||"object"!=typeof e||!("threadId"in e)||!("messageId"in e)||"string"!=typeof e.threadId||"string"!=typeof e.messageId)throw Error('"assistant_control_data" parts expect an object with a "threadId" and "messageId" property.');return{type:"assistant_control_data",value:{threadId:e.threadId,messageId:e.messageId}}}},el={code:"6",name:"data_message",parse:e=>{if(null==e||"object"!=typeof e||!("role"in e)||!("data"in e)||"string"!=typeof e.role||"data"!==e.role)throw Error('"data_message" parts expect an object with a "role" and "data" property.');return{type:"data_message",value:e}}},es={code:"7",name:"tool_calls",parse:e=>{if(null==e||"object"!=typeof e||!("tool_calls"in e)||"object"!=typeof e.tool_calls||null==e.tool_calls||!Array.isArray(e.tool_calls)||e.tool_calls.some(e=>{null!=e&&"object"==typeof e&&"id"in e&&"string"==typeof e.id&&"type"in e&&"string"==typeof e.type&&"function"in e&&null!=e.function&&"object"==typeof e.function&&"arguments"in e.function&&"string"==typeof e.function.name&&e.function.arguments}))throw Error('"tool_calls" parts expect an object with a ToolCallPayload.');return{type:"tool_calls",value:e}}},eu={code:"8",name:"message_annotations",parse:e=>{if(!Array.isArray(e))throw Error('"message_annotations" parts expect an array value.');return{type:"message_annotations",value:e}}},ec={[et.code]:et,[en.code]:en,[er.code]:er,[eo.code]:eo,[ea.code]:ea,[ei.code]:ei,[el.code]:el,[es.code]:es,[eu.code]:eu};et.name,et.code,en.name,en.code,er.name,er.code,eo.name,eo.code,ea.name,ea.code,ei.name,ei.code,el.name,el.code,es.name,es.code,eu.name,eu.code;var ed=[et,en,er,eo,ea,ei,el,es,eu].map(e=>e.code),ef=e=>{let t=e.indexOf(":");if(-1===t)throw Error("Failed to parse stream string. No separator found.");let n=e.slice(0,t);if(!ed.includes(n))throw Error("Failed to parse stream string. Invalid code ".concat(n,"."));let r=JSON.parse(e.slice(t+1));return ec[n].parse(r)};async function*ep(e){let{isAborted:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=new TextDecoder,r=[],o=0;for(;;){let{value:a}=await e.read();if(a&&(r.push(a),o+=a.length,10!==a[a.length-1]))continue;if(0===r.length)break;let i=function(e,t){let n=new Uint8Array(t),r=0;for(let t of e)n.set(t,r),r+=t.length;return e.length=0,n}(r,o);for(let e of(o=0,n.decode(i,{stream:!0}).split("\n").filter(e=>""!==e).map(ef)))yield e;if(null==t?void 0:t()){e.cancel();break}}}var eg=((e,t=21)=>(n=t)=>{let r="",o=n;for(;o--;)r+=e[Math.random()*e.length|0];return r})("0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",7);function em(e,t){return e&&t&&t.length?{...e,annotations:[...t]}:e}async function eh(e){let t,{reader:n,abortControllerRef:r,update:o,onFinish:a,generateId:i=eg,getCurrentDate:l=()=>new Date}=e,s=l(),u={data:[]};for await(let{type:e,value:a}of ep(n,{isAborted:()=>(null==r?void 0:r.current)===null})){"text"===e&&(u.text?u.text={...u.text,content:(u.text.content||"")+a}:u.text={id:i(),role:"assistant",content:a,createdAt:s});let n=null;"function_call"===e&&(u.function_call={id:i(),role:"assistant",content:"",function_call:a.function_call,name:a.function_call.name,createdAt:s},n=u.function_call);let r=null;"tool_calls"===e&&(u.tool_calls={id:i(),role:"assistant",content:"",tool_calls:a.tool_calls,createdAt:s},r=u.tool_calls),"data"===e&&u.data.push(...a);let l=u.text;"message_annotations"===e&&(t?t.push(...a):t=[...a],n=em(u.function_call,t),r=em(u.tool_calls,t),l=em(u.text,t)),(null==t?void 0:t.length)&&["text","function_call","tool_calls"].forEach(e=>{u[e]&&(u[e].annotations=[...t])}),o([n,r,l].filter(Boolean).map(e=>({...em(e,t)})),[...u.data])}return null==a||a(u),{messages:[u.text,u.function_call,u.tool_calls].filter(Boolean),data:u.data}}async function ey(e){var t;let{api:n,messages:r,body:o,credentials:a,headers:i,abortController:l,appendMessage:s,restoreMessagesOnFailure:u,onResponse:c,onUpdate:d,onFinish:f,generateId:p}=e,g=await fetch(n,{method:"POST",body:JSON.stringify({messages:r,...o}),headers:{"Content-Type":"application/json",...i},signal:null==(t=null==l?void 0:l())?void 0:t.signal,credentials:a}).catch(e=>{throw u(),e});if(c)try{await c(g)}catch(e){throw e}if(!g.ok)throw u(),Error(await g.text()||"Failed to fetch the chat response.");if(!g.body)throw Error("The response body is empty.");let m=g.body.getReader();if("true"===g.headers.get("X-Experimental-Stream-Data"))return await eh({reader:m,abortControllerRef:null!=l?{current:l()}:void 0,update:d,onFinish(e){f&&null!=e.text&&f(e.text)},generateId:p});{let e=new Date,t=function(e){let t=new TextDecoder;return e?function(e){return t.decode(e,{stream:!0}).split("\n").filter(e=>""!==e).map(ef).filter(Boolean)}:function(e){return e?t.decode(e,{stream:!0}):""}}(!1),n="",r={id:p(),createdAt:e,content:"",role:"assistant"};for(;;){let{done:e,value:o}=await m.read();if(e)break;if((n+=t(o)).startsWith('{"function_call":')?r.function_call=n:n.startsWith('{"tool_calls":')?r.tool_calls=n:r.content=n,s({...r}),(null==l?void 0:l())===null){m.cancel();break}}if(n.startsWith('{"function_call":')){let e=JSON.parse(n).function_call;r.function_call=e,s({...r})}if(n.startsWith('{"tool_calls":')){let e=JSON.parse(n).tool_calls;r.tool_calls=e,s({...r})}return f&&f(r),r}}async function e_(e){let{getStreamedResponse:t,experimental_onFunctionCall:n,experimental_onToolCall:r,updateChatRequest:o,getCurrentMessages:a}=e;for(;;){let e=await t();if("messages"in e){let t=!1;for(let i of e.messages)if(void 0!==i.function_call&&"string"!=typeof i.function_call||void 0!==i.tool_calls&&"string"!=typeof i.tool_calls){if(t=!0,n){let e=i.function_call;if("object"!=typeof e){console.warn("experimental_onFunctionCall should not be defined when using tools");continue}let r=await n(a(),e);if(void 0===r){t=!1;break}o(r)}if(r){let e=i.tool_calls;if(!Array.isArray(e)||e.some(e=>"object"!=typeof e)){console.warn("experimental_onToolCall should not be defined when using tools");continue}let n=await r(a(),e);if(void 0===n){t=!1;break}o(n)}}if(!t)break}else{let t=function(e){for(let t of e.messages){if(void 0!==t.tool_calls)for(let e of t.tool_calls)"object"==typeof e&&e.function.arguments&&"string"!=typeof e.function.arguments&&(e.function.arguments=JSON.stringify(e.function.arguments));void 0!==t.function_call&&"object"==typeof t.function_call&&t.function_call.arguments&&"string"!=typeof t.function_call.arguments&&(t.function_call.arguments=JSON.stringify(t.function_call.arguments))}};if((void 0===e.function_call||"string"==typeof e.function_call)&&(void 0===e.tool_calls||"string"==typeof e.tool_calls))break;if(n){let r=e.function_call;if("object"!=typeof r){console.warn("experimental_onFunctionCall should not be defined when using tools");continue}let i=await n(a(),r);if(void 0===i)break;t(i),o(i)}if(r){let n=e.tool_calls;if("object"!=typeof n){console.warn("experimental_onToolCall should not be defined when using functions");continue}let i=await r(a(),n);if(void 0===i)break;t(i),o(i)}}}}var ev=async(e,t,n,r,o,a,i,l,s,u,c,d)=>{var f,p;let g=i.current;n(t.messages,!1);let m=d?t.messages:t.messages.map(e=>{let{role:t,content:n,name:r,function_call:o,tool_calls:a,tool_call_id:i}=e;return{role:t,content:n,tool_call_id:i,...void 0!==r&&{name:r},...void 0!==o&&{function_call:o},...void 0!==a&&{tool_calls:a}}});if("string"!=typeof e){let r={id:s(),createdAt:new Date,content:"",role:"assistant"};async function h(e){let{content:o,ui:a,next:i}=await e;r.content=o,r.ui=await a,n([...t.messages,{...r}],!1),i&&await h(i)}try{let n=e({messages:m,data:t.data});await h(n)}catch(e){throw n(g,!1),e}return u&&u(r),r}return await ey({api:e,messages:m,body:{data:t.data,...a.current.body,...null==(f=t.options)?void 0:f.body,...void 0!==t.functions&&{functions:t.functions},...void 0!==t.function_call&&{function_call:t.function_call},...void 0!==t.tools&&{tools:t.tools},...void 0!==t.tool_choice&&{tool_choice:t.tool_choice}},credentials:a.current.credentials,headers:{...a.current.headers,...null==(p=t.options)?void 0:p.headers},abortController:()=>l.current,appendMessage(e){n([...t.messages,e],!1)},restoreMessagesOnFailure(){n(g,!1)},onResponse:c,onUpdate(e,a){n([...t.messages,...e],!1),r([...o||[],...a||[]],!1)},onFinish:u,generateId:s})};function eb(){let{api:e="/api/chat",id:t,initialMessages:n,initialInput:r="",sendExtraMessageFields:a,experimental_onFunctionCall:i,experimental_onToolCall:l,onResponse:s,onFinish:u,onError:c,credentials:d,headers:f,body:p,generateId:g=eg}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},m=(0,o.useId)(),h=null!=t?t:m,y="string"==typeof e?[e,h]:h,[_]=(0,o.useState)([]),{data:v,mutate:b}=ee([y,"messages"],null,{fallbackData:null!=n?n:_}),{data:w=!1,mutate:E}=ee([y,"loading"],null),{data:x,mutate:S}=ee([y,"streamData"],null),{data:C,mutate:j}=ee([y,"error"],null),O=(0,o.useRef)(v||[]);(0,o.useEffect)(()=>{O.current=v||[]},[v]);let R=(0,o.useRef)(null),k=(0,o.useRef)({credentials:d,headers:f,body:p});(0,o.useEffect)(()=>{k.current={credentials:d,headers:f,body:p}},[d,f,p]);let P=(0,o.useCallback)(async t=>{try{E(!0),j(void 0);let n=new AbortController;R.current=n,await e_({getStreamedResponse:()=>ev(e,t,b,S,x,k,O,R,g,u,s,a),experimental_onFunctionCall:i,experimental_onToolCall:l,updateChatRequest:e=>{t=e},getCurrentMessages:()=>O.current}),R.current=null}catch(e){if("AbortError"===e.name)return R.current=null,null;c&&e instanceof Error&&c(e),j(e)}finally{E(!1)}},[b,E,e,k,s,u,c,j,S,x,a,i,l,O,R,g]),T=(0,o.useCallback)(async function(e){let{options:t,functions:n,function_call:r,tools:o,tool_choice:a,data:i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e.id||(e.id=g()),P({messages:O.current.concat(e),options:t,data:i,...void 0!==n&&{functions:n},...void 0!==r&&{function_call:r},...void 0!==o&&{tools:o},...void 0!==a&&{tool_choice:a}})},[P,g]),I=(0,o.useCallback)(async function(){let{options:e,functions:t,function_call:n,tools:r,tool_choice:o}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return 0===O.current.length?null:"assistant"===O.current[O.current.length-1].role?P({messages:O.current.slice(0,-1),options:e,...void 0!==t&&{functions:t},...void 0!==n&&{function_call:n},...void 0!==r&&{tools:r},...void 0!==o&&{tool_choice:o}}):P({messages:O.current,options:e,...void 0!==t&&{functions:t},...void 0!==n&&{function_call:n},...void 0!==r&&{tools:r},...void 0!==o&&{tool_choice:o}})},[P]),A=(0,o.useCallback)(()=>{R.current&&(R.current.abort(),R.current=null)},[]),M=(0,o.useCallback)(e=>{b(e,!1),O.current=e},[b]),[D,L]=(0,o.useState)(r),V=(0,o.useCallback)(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;n&&(k.current={...k.current,...n}),e.preventDefault(),D&&(T({content:D,role:"user",createdAt:new Date},t),L(""))},[D,T]);return{messages:v||[],error:C,append:T,reload:I,stop:A,setMessages:M,input:D,setInput:L,handleInputChange:e=>{L(e.target.value)},handleSubmit:V,isLoading:w,data:x}}}}]);